<!-- templates/error.html -->
{% extends "base.html" %}

{% block title %}Error - {{ symbol if symbol else 'Analysis' }}{% endblock %}

{% block content %}
<div style="background: #ffebee; border: 1px solid #f44336; border-radius: 10px; padding: 30px; text-align: center;">
  <h2 style="color: #d32f2f; margin-bottom: 20px;">⚠️ Analysis Error</h2>
  
  {% if symbol %}
  <h3 style="color: #424242; margin-bottom: 15px;">
    Symbol: {{ symbol }}
    {% if company_name and company_name != symbol %}
    <br><small style="color: #666;">{{ company_name }}</small>
    {% endif %}
  </h3>
  {% endif %}
  
  <div style="background: white; padding: 20px; border-radius: 5px; margin: 20px 0; border-left: 4px solid #f44336;">
    <strong>Error Details:</strong><br>
    <p style="color: #666; margin-top: 10px;">{{ error_message }}</p>
  </div>
  
  <div style="margin-top: 30px;">
    <h4>Available Stock Symbols:</h4>
    <div style="background: #f5f5f5; padding: 15px; border-radius: 5px; margin: 15px 0;">
      {% for stock in sidebar_data.json_data %}
        <span style="display: inline-block; margin: 5px; padding: 5px 10px; background: white; border-radius: 3px; border: 1px solid #ddd;">
          <strong>{{ stock.symbol }}</strong> - {{ stock.companyName }}
        </span>
      {% endfor %}
    </div>
  </div>
  
  <div style="margin-top: 30px;">
    <h4>Possible Solutions:</h4>
    <ul style="text-align: left; display: inline-block; color: #555;">
      <li>Check if the stock symbol matches one from the available list above</li>
      <li>Ensure the date range contains sufficient data points (minimum 50-100 days)</li>
      <li>Verify that the CSV file exists in the 'data/' folder</li>
      <li>Check that CSV file has required columns: Date, Open, High, Low, Close, Volume</li>
      <li>Try selecting a different date range or stock symbol</li>
    </ul>
  </div>
  
  <div style="margin-top: 30px;">
    <a href="/" style="background: #2196f3; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
      ← Try New Analysis
    </a>
  </div>
</div>
{% endblock %}